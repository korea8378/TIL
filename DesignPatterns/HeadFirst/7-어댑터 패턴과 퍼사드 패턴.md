# Head First Design Patterns

## 07월 30일

### 7장 어댑터 패턴과 퍼사드 패턴

#### 개요
- 실제와 다른 인터페이스를 가진 것처럼 보이도록 해보자.
- 특정 인터페이스를 필요로 하는 디자인을 다른 인터페이스를 구현하는 클래스에 적응시킬 수 있다.
- 객체를 감싸서 인터페이스를 단순화시킬 수 있는 다른패턴도 알아보자.

#### 어댑터
- 어댑터는 한 인터페이스를 다른 인터페이스로 변환해주는 역할을 한다.
- 어떤 인터페이스를 클라이언트에서 요구하는 형태의 인터페이스에 적응 시켜주는 역할을 한다.
- 클라이언트로부터 요청을 받아서 새로운 업체에서 제공하는 클래스에서 받아들일 수 있는 형태의 요청으로 변환시켜주는 중개인 역할을 합니다.

#### 클라이언트에서 어댑터를 사용하는 방법
- 1.클라이언트에서 타켓 인터페이스를 사용하여 메소드를 호출함으로써 어댑터에 요청을 한다.
- 2.어댑터에서는 어댑티 인터페이스를 사용하여 그 요청을 어댑티에 대한 메소드 호출로 변환한다.
- 3.클라이언트에서는 호출 결과를 받긴 하지만 중간에 어댑터가 껴 있는지는 알지 못한다.

#### 어댑터 패턴
- 한 클래스의 인터페이스를 클라이언트에서 사용하고자 하는 다른 인터페이스로 변환한다.
- 어댑터를 이용하면 인터페이스 호환성 문제 때문에 같이 쓸 수 없는 클래스들을 연결해서 쓸 수 있다.
- 호환되지 않는 인터페이스를 사용하는 클라이언트를 그대로 활용할 수 있다.
- 인터페이스를 변환해주는 어댑터를 만들면 된다.
- 클라이언트와 구현된 인터페이스를 분리시킬 수 있으며, 나중에 인터페이스가 바뀌더라도 그 변경 내역은 어댑터에 캡슐화되기 때문에 클라이언트는 바뀔 필요가 없다.
- 어댑티를 새로 바뀐 인터페이스로 감쌀 때는 객체 구성을 사용한다. 이런 접근법을 쓰면 어댑티의 어떤 서브클래스에 대해서도 어댑터를 쓸 수 있다는 장점이 있다.
- 타켓 인터페이스만 제대로 지킨다면 나중에 다른 구현을 추가하는 것도 가능하다.

#### 어댑터의 두 종류
- 객체 어댑터
    - 구성을 이용한 패턴
    - 상속을 이용할때보다 보다 유연하게 사용가능하다.
- 클래스 어댑터
    - 다중 상속을 이용한 패턴
    - 자바에서는 다중 상속이 없다.
    - 상속을 이용하면 코드 분량을 줄일 수 있다.
    - 특정 어댑티에만 적용된다는 단점이 있다.

#### 데코레이터와 어댑터
- 두 디자인 패턴의 겉은 비슷해보이더라도 속이 완전다르다.
- 데코레이터
    - 데코레이터가 적용된다는 것은 새로운 책임 또는 행동이 디자인에 추가된다는 것을 의미한다.
    - 커다란 인터페이스를 장식할 때는, 구현해야할 코드가 많아진다.
    - 데코레이트들로 겹겹이 쌓여있다면, 어떤 데코레이터들을 거쳐왔는지 어떤 요청들로 처리되어있는지 알지 못한다.
    - 기존 코드를 고치지 않고 새로운 클래스를 통하여 기능을 추가한다.
- 어댑터
    - 클라이언트와 어댑티를 분리함으로써 클라이언트는 어댑티를 모르고 사용할 수 있다.
    - 클라이언트는 어댑터에서 어떤일 하였는지 알지 못한다.
    - 어댑터를 통하여 추가적인 기능을 처리할 수 있다.
 
