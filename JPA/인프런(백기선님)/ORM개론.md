# 인프런(백기선님)

## 3월 20일

### 관계형 데이터베이스와 자바

#### JDBC
- 데이터베이스와 자바를 연결 시켜주는 기능을 한다.
- 영속화 : 어플리케이션(자바, 노드등)에 사용한 데이터, 정보를 데이터베이스에 영구 저장한다.

#### DML
- Data Manipulation Language

#### DDL
- Data Definition Language

#### DCL
- Data control Language

#### SQL을 이용한 개발
- SQL에 의존적으로 개발하게된다.
- SQL이 데이터베이스마다 다르다.
- SQL을 실행하는 비용이 크다
- 데이터베이스 스키마 변경시 코드를 수정
- 반복적인 코드가 많아진다.
- LAZY 지연 읽기를 구현하기가 힘들다

#### ORM
- ORM은 어플리케이션의 클래스와 SQL 데이터베이스의 테이블 사이의 맵핑 정보를 기술한 메타데이터를 사용하여, 자바 어플리케이션의 객체를 SQL 데이터베이스의 테이블에 자동으로 (또 깨끗하게) 영속화 해주는 기술입니다.
- 도메인 모델로 개발이 가능하게 해준다.

#### ORM 장점
- 생산성
- 유지보수
- 성능
- 벤더 독립성

#### ORM 단점
- 학습비용

#### ORM 패러다임 불일치
- 밀도 문제

|객체|릴레이션|
:--------:|:--------:|
|다양한 크기의 객체를 만들 수 있음.| 테이블|
|커스텀한 타입 만들기 쉬움.  |기본 데이터 타입 (UDT는 비추)|

- 서브 타입 문제

|객체|릴레이션|
:--------:|:--------:|
|상속 구조 만들기 쉬움.| 테이블 상속이라는게 없음.|
|다형성.|상속 기능을 구현했다 하더라도 표준 기술이 아님.|
||다형적인 관계를 표현할 방법이 없음.|

- 식별성 문제

|객체|릴레이션|
:--------:|:--------:|
|레퍼런스 동일성 (==)| 주키 (primary key)|
|인스턴스 동일성 (equals() 메소드)||

- 관계 문제

|객체|릴레이션|
:--------:|:--------:|
|객체 레퍼런스로 관계 표현.|외래키(foreign key)로 관계 표현.|
|근본적으로 ‘방향'이 존재 한다.|‘방향'이라는 의미가 없음. 그냥 Join으로 아무거나 묶을 수 있음.|
|다대다 관계를 가질 수 있음|태생적으로 다대다 관계를 못만들고, 조인 테이블 또는 링크 테이블을 사용해서 두개의 1대다 관계로 풀어야 함. |

- 데이터 네비게이션 문제

|객체|릴레이션|
:--------:|:--------:|
|레퍼런스를 이용해서 다른 객체로 이동 가능.|하지만 그런 방식은 릴레이션에서 데이터를 조회하는데 있어서 매우 비효율적이다.|
|콜렉션을 순회할 수도 있음.|데이터베이스에 요청을 적게 할 수록 성능이 좋다. 따라서 Join을 쓴다.|
||하지만, 너무 많이 한번에 가져오려고 해도 문제다.|
||그렇다고 lazy loading을 하자니 그것도 문제다. (n+1 select)|
