# 프로젝트 성패를 결정짓는 데이터 모델링 이야기

## 3월 5일

### 9.데이터에는 유형, 종속 관계, 계층구조가 존재한다. 이것이 힌트다.

#### 데이터 유형
- 업무 데이터를 유심히 살펴보면 일반적으로 데이터에는 그 성격이 유사해서 하나의 틀로 묶을 수 있는 유형 혹은 패턴이 존재함을 알 수 있다.
- 업무 데이터라 함은 업무와 관련된 사건의 기록이며, 결국 업무 정보는 데이터를 육하원칙에 따라 결합한 체계라고 말할 수 잇다.
- 보도 기사를 쓸 때 지켜야 하는 육하원칙은 사건을 명확히 표현하기 위한 기본적이면서도 필수적인 도구며, 이는 모델링에도 그대로 적용된다.
- 성격이 같은 데이터는 하나의 유형으로 통합하고, 업무 행위는 관련 개체들과의 관계로 표현하는 것이 핵심이다.
- 주변의 기준 정보가 존재하지 않으면 업무 행위 자체가 발생할 수 없다.
- 모델러는 최종 트랜잭션 데이터가 아니라, 트랜잭션의 실질적인 주체와 대상에 해당하는 데이터를 정확히 볼 줄 알아야 한다.

#### 업무 행위와 행위의 주체/대상
- 업무의 주체나 대상 등 같은 성질의 데이터를 하나의 개체로 통합하고, 업무 행위는 관련 개체 사이의 관계로 표현하는 것이 핵심이다.

#### 데이터의 종속성과 계층구조
- 업무 데이터의 특징은 고스란히 데이터 개체들의 집합인 엔터티에 투영된다.
- 엔터티를 이해하고 제대로 정의하기 위해서는 현실 세계의 데이터를 관찰하여 업무를 통해 흘러 다니는 데이터를 구조적으로 읽을 줄 알아야 한다.
- 엔터티에는 크게 다른 엔터티에 의존하지 않고 스스로 존재하는 강한 엔터티와 반드시 상위 엔터티가 있어야 존재할 수 있는 약한 엔터티가 있다.
- 약한 엔터티는 자신의 속성만으로는 식별자를 명세할 수 없는 불완전한 개체 유형이다.
- 개체 집합을 어떻게 정의하느냐에 따라, 업무에서 관리하는 데이터의 범의에 따라, 업무 요건이 어떠하냐에 따라 강한 엔터티가 약한 엔터티가 될 수 있고, 그 반대가 될 수도 있다.
- 약한 엔터티는 종속성 때문에 부모와 생사를 함께 한다.
- 하위 엔터티가 상위 엔터티의 주 식별자를 자신의 주 식별자로 상속하며 상위 엔터티에 그 존재가 완전히 종속된 약한 엔터티일 경우, 상위 엔터티를 부모라고 한다.
- 주로 실체에 해당하는 본질 데이터는 강한 엔터티로, 그 실체가 발생시킨 업무 행위 데이터는 약한 엔터티로 분류 할 수 있다.
- 우리는 반드시 집합의 개념으로 사고해야한다. 물질적으로 생각한다면 기획 단계에서는 아직 존재하지도 않는 상품을 담을 그릇인 구조는 존재할 수 없기 때문이다.

#### 최상위의 데이터, 마스터 데이터
- 업무 데이터를 잘 살펴보면 패턴, 유형, 계층 같은 특성이 보일 것이라고 한다.
- 업무 데이터는 결국 누가 어떤 것을 대상으로 특정 시점에 어던 업무 행위를 했다는 기록이다.
- 모든 데이터 모델에는 해당 업무에서 관리하려는 이러한 업무 행위의 주체와 대상이 존재하기 마련이다.
- 현실 업무에서 실제 중요한 것은 업무를 수행한 행위, 즉 방대한 양의 업무 트랜잭션일 것이다. 그러나 데이터를 담는 그릇인 구조의 관점에서, 다시 말해 데이터 모델링 관점에서는 상위의 원천적인 개체들의 영역이 주요 관심사다.
- 업종을 불문하고 기업이나 조직에서 발생하는 데이터는 육하원칙 중 ‘누가’, ‘무엇’, ‘언제’, ‘어디서’, ‘어떻게’ 라는 범주에 있는 기준 정보를 부모로 하여 태어난다.
- 업무 활동의 근간이 되는 최상위 부모 데이터를 마스터 데이터라고 한다.
- 트랜잭션 데이터는 기업이나 조직의 활동, 즉 업무 행위에 대한 데이터다.
- 우리가 현실세계에서 쉽게 보고 확인할 수 있는 것은 업무 행위인 트랜잭션의 영역이다. 업무 행위 주체와 대상은 좀 더 근원적이라 개별 트랜잭션처럼 많이 드러나지 않는다.
- 마스터 데이터의 범위는 기업이나 조직 활동의 근간을 이루는 데이터라는 정의가 가장 적합할 것 같다.
- 활동 자체의 데이터는 마스터 데이터가 아니며 활동의 근간, 즉 기준이 되는 데이터여야 한다는 것이다. 물론 데이터 모델의 최종 목적은 업무 행위를 기록하는 것이다.
- 그러나 마스터 데이터라는 상위 모델을 체계화하지 않은 채 하위 모델을 제대로 조직한다는 것은 어불성설이며, 결국 관리해야 할 데이터를 정확하고 효율적으로 담을 수 없게 된다.

#### 이터 모델을 그리는 순서
- 1.최상위의 고객과 상품을 찾는다.
- 2.고객과 상품 수준의 다른 주체와 대상도 찾는다.
- 3.고객과 상품이 행한 업무 트랜잭션을 찾는다.
- 4.트랜잭션이 주체로 행한 하위 트랜잭션을 찾는다.
- 5.관계를 찾아 연결한다.
- 6.각 엔터티를 주요 속성부터 채워 나간다.
- 7.이력 등 기타 엔터티를 고려하며 전체 모델을 상세화한다.
