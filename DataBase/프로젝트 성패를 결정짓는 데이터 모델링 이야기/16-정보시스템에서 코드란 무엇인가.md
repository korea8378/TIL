# 프로젝트 성패를 결정짓는 데이터 모델링 이야기

## 3월 13일

### 16.정보시스템에서 코드란 무엇인가

#### 나는 코드를 정확히 알고 있는 걸까
- 정보시스템에서 말하는 ‘코드’란 과연 무엇일까?
- 사람들마다 이해하는 관점과 수준이 다르므로 별도의 스토리를 할애해서 코드의 개념과 코드 모델 관리 방안을 정리해보자
- 사용하기 불편한 정보는 종종 약속된 간단한 기호 체계로 압축해서 사용하기도 하는데, 이때 약속된 모습의 기호가 바로 코드다
- 데이터 모델에서는 정보를 속성 단위로 입력하니, 결국 속성의 값을 기호로 변환한 것이 코드다.
- 이메일을 의미하는 값 표현 방법이 다양해서 추후 집계할 때 문제가 생길 여지가 많았다.
- 집계는 그룹핑을 의미하며, 그 그룹핑이 바로 코드화의 목적이다. 따라서 집계가 필요한 속성 데이터를 기호화하여 표준 코드로 관리하게 된다.
- 애플리케이션의 화면 수준에서 데이터를 유형화하여 조회하려는 목적도 있을 수 있고, 프로그램 소스 코드 수준에서 로직 분기를 위해서도 코드는 필요하다.
- 물론 짧게 압축시켜 가독성을 높이고 저장 공간의 효율성을 도모하는 등의 효과도 있다.
- 코드의 본질은 값의 분류, 즉 범주화의 도구로 이해해야 한다.

#### 코드인 것과 코드가 아닌 것, 코드 속성과 식별자 속성
- 코드인지 판별하는 핵심은 식별자와 코드를 구분하는 것이다.
- 식별자
    - <상품코드>와 <부서코드>는 코드가 아닌 실벽자 속성에 해당한다.
    - 엔터티의 개별 인스턴스를 유일하게 식별하는 방법을 제공하는 장치다.
    - 일반적으로 기본 키가 이에 해당한다.
- 코드
    - 오로지 릴레이션의 튜플들에 대한 특정 기준 중심의 분류로 사용되는 것을 의미한다.
    - 분류를 위한 도구지 집합의 개체가 생성되고 쌓이는 기준은 아니다.
- 식별자와 코드를 구분하기 위해 도메인이나 속성 명칭 뒤에 식별자에는 ‘ID’나 ‘번호’를 붙이고, 코드에는 ‘코드’를 붙이는 명명법이 최근의 추세다.

#### 공통코드는 어떻게 만들어졌는가?
- 공통코드는 코드 성격의 개별 데이티블들을 한 단계 더 추상화하여 한 곳에 모아놓는 것이다.
- 개별 목록 테이블의 주 식별자가 코드 성격이며 부가 속성 정보가 많지 않다면 <코드값>과 <코드명> 정도의 간결한 속성만으로 통합해서 일반화하면 많은 장점을 취할 수 있다.
- 크게 보면 코드 성격의 기준 데이터가 통합 관리됨으로써 등록, 참조, 분배 등 관리상의 이점이 있고, 자주 사용되는 코드 정보가 하나의 테이블로 응집되고 메모리에 상주하여 성능상 이점도 기대할 수 있다.
- 개별코드를 일반화하여 통합하기 위해서는 구분자에 해당하는 분류 코드 속성이 필요한데, 이것이 개별코드와 공통코드의 차이다.

#### 공통코드로 설계와 개별코드로 설계
- 실제 개체들의 집합은 엔터티로 별도로 관리하는 것이 바람직하다. 물론 단순 유형 범주화를 위한 코드지만 함께 관리해야 하는 부가 속성이 많은 경우에도 별도 엔터티로 정의할 수 있다.
- 다만 개별 관리되는 코드 성격 테이블이 많아질수록 관리가 어려워지며 시스템의 복잡도는 증가할 수밖에 없다. 따라서 거버넌스 관점에서는 최소한으로 통제하는 것이 좋다.
- 실체를 관리하면서 관리하는 속성이 명칭 정도의 범위라면 공통코드 테이블로도 관리할 수 있을 것이다.
- 더불어 단순코드 속성이지만 코드값 간의 계층 관계나 부분집합을 관리해야 하는데 공통코드에서 이를 지원하지 못한다면 개별코드로 설계해야 할 것이다.
- 우리가 어떤 것을 분류할 때는 분류 자체가 목적일 수도 있지만, 분류라는 틀이 그 대상을 더 이해하기 쉽게 만든다는 이점도 있기 때문이다.
- 코드인 것과 코드가 아닌것을 구분해야 하는 이유도 유사하다.
- 식별자 속성
    - 일반적으로 개별 테이블의 기본키로 구현
    - 실제 업무 행위에 의해 값이 생성되는 경우가 많다.
- 코드 속성
    - 전사 공통코드로 보통은 메타데이터 관리시스템에서 관리
    - IT조직 내에서 자료사전으로 관리되는 것이 일반적

#### 공통코드는 어떻게 관리해야 하나(책 참조 p.214 ~ p.219)
- 1. 공통코드/공통코드값 엔터티
- 2. 코드간 계층구조와 부분집합을 관리
    - 2-1. 공통코드 엔터티에서 상위 관리
    - 2-2. 공통코드값 엔터티에서 상위 관리

#### 코드
- 코드를 잘 정의하는 일은 무척 중요하지만 그리 쉽지 않다.
- 적절한 추상화 수준으로 분류하고 정의한 코드를 기반으로 개발을 시작하고 운영하면 그렇지 않은 경우보다 생산성이 월등히 높을 수박에 없다.
- 코드가 정보 시스템의 절반이기 때문이다.
- 따라서 코드 정의를 단순히 표준화 영역으로 가볍게 취급하는 것은 바람직하지 않다.
- 데이터 표준화가 속성 모델링의 일부라고 설명한 것처럼, 코드 정의 역시 모델링의 중요한 과정으로 이해해야 한다.
