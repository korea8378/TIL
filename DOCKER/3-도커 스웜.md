# 2021-07-23

# 3장 도커 스웜

## 도커스웜을 사용하는 이유
- 여러 서버를 이용하여 운영한다면 많은신경을 써야한다.
- 서버 확장
    - 여러 대의 서버를 클러스터로 만든덜어 자원을 병럴로 확장하는 것 입니다.
- 여러 대의 서버를 하나의 자원 풀로 만드는 것은 쉬운 작업이 아닙니다.
- 새로운 컨테이너가 추가 됐을 때 이를 발견하는 작업부터 어떤 서버에 컨테이너를 할당 한 것인가에 대한 스케줄러와 로드밸런서 문제, 클러스트 내의 서버가 다운됐을 때 고가용성을 어떻게 보장할지 등이 문제로 남아 있습니다.
- 이러한 문제를 해결하는 여러 솔루션을 오픈소스로 활용할 수 있습니다.
- 이 가운데 대표적인 것이 바로 도커에서 공식적으로 제공하는 도커 스웜과 스웜 모드입니다.

## 스웜 클래식과 도커 스웜 모드
- 스웜 클래식과 도커 스웜모드는 여러 대의 도커 서버를 하나의 클러스터로 만들어 컨테이너를 생성하는 여러 기능을 제공합니다.
- 도커 스웜모드와 스웜 클랙식은 서버 클러스터에서 컨테이너를 어떻게 다루는지에 대한 기초적인 지식을 쌓기에 적합합니다.
- 목적
    - 스웜 클래식
        - 여러 대의 도커 서버를 하나의 지점에서 사용하도록 단일 접근점을 제공
        - 도커 API로 클러스터의 서버를 제어
    - 스웜 모드
        - 마이크로서비스 아키텍처의 컨테이너를 다루기 위한 클러스터링 기능을 초점
        - 같은 컨테이너를 동시에 여러 개 생성해 필요에 따라 유동적으로 컨테이너의 수를 조절
        - 컨터이너로의 연결을 분산하는 로드밸런싱 기능을 자체적으로 지원
- 도커 스웜모드와 스웜 클래식의 차이점
    - 분산 코디네이터, 에이전트와 같은 클러스터 툴이 별도로 구동되는냐
    - 여러 개의 도커 서버를 하나의 클러스터로 구성하려면 각종 정보를 저장하고 동기화하는 분산 코디네이터
    - 클러스터 내의 서버를 관리하고 제어하는 매니저
    - 각 서버를 제어하는 에이전트
- 스웜모드는 마이크로서비스 아키텍처 애플리케이션을 컨테이너로 구추할 수 있도록 도와줄 뿐만아니라, 서비스 장애에 대비한 고가용성과 부하 분산을 위한 로드 밸런싱 기능 또한 제공합니다.
