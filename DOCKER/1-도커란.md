# 2021-07-14

# 1장 도커란

## 도커
- 리눅스 컨테이너에 여러 기능을 추가함으로써 애플리케이션을 컨테이너로서 좀 더 쉽게 사용할 수 있게 만들어진 오픈소스 프로젝트입니다.
- 가상 머신과 달리 도커 컨테이너는 성능의 손실이 거의 없어서 차세대 클라우드 인프라 솔루션으로 많은 개발자들에게 주목받고 있습니다.
- 도커는 도커엔진 또는 도커와 관련된 모든 프로젝트를 뜻합니다.
- 도커 엔진
    - 컨테이너를 생성하고 관리하는 주체로서 이 자체로도 컨테이너를 제어할 수 잇고 다양한 기능을 제공하는 도커의 주프로젝트

## 가상머신과 도커
- 가상머신
    - 하이퍼바이저를 이용해 여러 개의 운영체제를 하나의 호스트에서 생성해 사용하는 방식
    - 하이퍼바이저에 의해 생성되고 관리되는 운영체제는 게스트 운영체제라고 하며, 각 게스트 운영체제는 다른 게스트 운영체제와는 완전히 독립된 공간과 시스템 자원을 할당받아 사용됩니다.
    - 독립된 공간을 생성하는 작업은 하이퍼바이저를 반드시 거치기 때문에 일반 호스트에 비해 성능의 손실이 발생합니다.
    - 장점
        - 완벽한 운영체제를 생성
    - 단점
        - 일반 호스트에 비해 성능 손실이 있으며, 수 기가바이트에 달하는 가상머신 이미지를 애플리케이션으로 배포하기는 부담스럽다
- 도커 컨테이너
    - 장점
        - 가상화된 공간을 생성하기 위해 리눅스의 자체의 기능인 chroot, 네임스페이스, cgroup을 사용함으로써 프로세스 단위의 격리 환경을 만들기 때문에 성능 손실이 거의 없다.
        - 구동하는데 필요한 라이브러리 및 실행 파일만 존재하기 때문에 컨터이너를 이미지로 만들었을 때 이미지의 용량 또한 가상머신에 비해 대폭 줄어든다.
        - 컨터에너를 이미지로 만들어 배포하는 시간이 가상머신에 비해 빠르며, 가상화된 공간을 사용할 때의 성능 손실도 거의 없다.

## 도커를 시작해야하는 이유 - 애플리케이션의 개발과 배포가 편해집니다.
- 도커이미지라고 하는 일종의 패키지로 만들어 운영 서버에 전달만 하면 된다.
- 컨테이너에서 사용되던 운영 서버에서 새롭게 패키지를 설치할 필요도 없으며, 각종 라이브러리 설치등으로 인한 의존성을 걱정할 필요 없다.
- 서비스를 개발 했을 때 사용했던 환경을 다른 서버에서도 컨테이너로서 똑같이 복제할 수 있기 때문에 개발/운영 환경의 통합이 가능해진다.
- 커널을 포함하고 있지 않기 때문에 이미지 크기가 그다지 크지 않다.
- 이미지 내용을 레이어 단위로 구성하며, 중복되는 레이어를 재사용 할 수 있다.(배포속도 업)

## 도커를 시작해야하는 이유 - 여러 애플리케이션의 독립성과 확장성이 높아집니다.
- 모노리틱 
- 마이크로 서비스
- 컨테이너 별로 역할을 분리할 수 있습니다.
- 야라 모듈에게 독립된 환경을 동시에 제공할 있다.
- 컨테이너 기반의 마이크로서비스는 개발자가 그 구조를 직접 구현하기보다는 도커 스웜 모드, 쿠버네티스 등의 컨테이너 오케스트레이션 플랫폼을 통해 사용하는 것이 일반적입니다.
